
vue 卸载命令
npm uninstall 插件

记录开发的过程
2023-03-19
一、角色管理中完成增删查改，但是不全
  1. 角色中 怎么绑定菜单下拉框多选 目前只思考到一级菜单
  2. 用户是绑定角色的， 以及部门（使用下拉框表示）

二、还没做部门管理中 一级和多级部门 目前全部设置一级？ 还是通过展开行


其中  更新或者添加  统一走addcontroller 去掉 update

add调用判断 是添加还是更新 调用service层


2023-03-21

前端出现小数的数据类型

新增仓库以及部门的情况 是否需要最高权限才能新增或者审核

做到 仓库 页面部分 CRUD未

仓库列表----bug  不能校验仓库名

商品库存-添加或更新时 可以有判断 库存容量来决定

03-23 入库清单   CRUD有问题

  03-24  CRUD基本完成

  问题： 刷新后页面和状态不对应， 菜单样式看不清楚
  其他页面小功能  excel导出  顶部的个人信息和修改密码页面设计


  23-3-30
梳理 
    1.角色-菜单列表   1
    2.角色分配菜单  用户-分配角色  1
    3.个人信息-（因为是用户查询出的，可以不用）与密码修改   1
    4.替换下拉框选项
    5.大屏可视化-数据及其图
    6.笔记功能  
    7. 面包屑个数限制以及右键关闭其他
    8.图标以及二级菜单的显示区别
    9.excel导出功能


4-3 
导出excel  采购和进销==需要对应 商品数量、仓库面积的变化  部分CrUD的input框换成下拉框 
时间来不及的话-暂时只做地图吧 

计划 ：
        今天做 笔记
        明天： 进销和仓库 的关键变化  （有余就 更换下拉框）
        后台：写论文+地图

    23-04-4
    笔记还缺少后端+前端部分接口
    思路： 进销和仓库切割开来,  进销完成后需要手动到仓库管理模块里面进行更新
    

23-04-19 
 完成笔记添加功能   
    缺：title相同未校验 
    删除功能


    23-04-22

    组件之间的传值   还是重复一遍？


  23-04-23--------乘法

         /**
         * 计算
         （1）小数计算对精度无要求时，使用float节省时间。
         （2）如果有精度要求，用BigDecimal类处理（初始化必须使用字符串，因为用数值初始化会得到近似值，不准确），
         然后设置保留位数和 舍入法（half_up四舍五入，half_even银行家，half_down向下取整）
         */
        BigDecimal  priceTotal =null;
        BigDecimal shopPrice = depositoryOut.getShopPrice();  //商品单价
         Long shopNumber = depositoryOut.getShopNumber();    //商品数量
//        ShopPrice 是decimal   ShopNumber 是bigint
        if ( shopPrice !=null && shopNumber !=null){
            BigDecimal ShopNumber1 = new BigDecimal(shopNumber);
               priceTotal =ShopNumber1.multiply(shopPrice) ;  //商品数量乘商品价格
        }


   采购 -----> 采购退货= 从采购表查询出来
   销售-------> 销售退货 = 需要从销售表里面使用 


   #阿里云部署   2023-0425
   先后端  prod 生产环境配置 后端SpringBoot yml配置 端口 8082
   前端                                           端口 8083


测试问题汇总--------------------------------------------------------------------------------------
所有的备注  添加省略   √

1. 系统管理
      系统配置--------- 页面太简单 且颜色也需要调
      部门管理-----------
      角色管理-----------编辑弹窗 编辑的内容太少后端 创建者、更新时间为设置  && 且增加功能一样    √  无创建者 √
      员工管理---------- 邮箱弹框缺少校验; 缺少更新时间； 用户分配 数据第二次打开才能加载进来，角色建议显示作用或者描述
                         用户分配角色后端没有功能   √    电话校验 不成功 23-0428
 2.  仓库管理
      出库清单-----------增加后   1.是否出库修改为默认出库     √
                                 2.出库校验  仓库+商品+数量是否充足 充足则可以出库   
                                 3.出库是往那出库（客户）  或者员工去仓库领取？ 

      入库清单---------- 校验 商品入库数量是否大于该仓库剩余量            位置
                        添加入库单后 默认是不入库不质检   质检后需要更新该商品入库的仓库的剩余量
                                                                 以及对应更新某商品库存的数量
                        计量单位的问题---可以通过商品列表去查规格
      库存列表-------- 两个方面 1.入库及出库时动态更新； 2.不过系统的出入库单
      仓库列表---------需要编写仓库行记录---对应大屏   其他模块引用时需要加上状态是否是正常的？？？

3. 进销管理
    销售退货-------------退采原因和备注 作省略出来， 编辑内容太少
                        销售单号和退货单号 需要设置uuid
                        1. 只是对已销售的退货 可以修改退购数量、退购单价；数据库增加 是否全退字段
    销售   销售单号需要后端uuid ， 单价保留一到两位小数
    采购退货    同理  分为线上和线下添加的 线上：原采购单进行(部分)退货处理，手动添加，手动添加的必须备注？        
    采购

4. 备忘录
        笔记  新建笔记后 笔记列表不更新问题   √
              删除功能无效  √


5. 基础信息管理
          供应商资料-----------    供应商电话和供应商地址需要校验  以及数据生成 是否拥有详细地址？   
                                  编辑或更新的内容较少 如缺银行号   或者 全国银行列表 以及校验银行号的正确性。
          部门资料---------缺地址
          商品资料---------------需要校验商品名称是否存在；  商品数量是否需要  暂时不要把
          客户资料----------------添加缺少银行卡号 以及全国银行信息银行

6.  首页
      物料占比-------------------从商品库存中查前八个吧  所有仓库的所有商品;  占比：数量/所有的仓库总容量
      左下的表-------------------前5个 销售的最多的作为参考  由此查找的商品去查采购量、库存量（已找到销售量）。
      中间的地图  仓库地图  统一设置值为xx  ；或者一个系统设置标量  直接确定范围是多少 value就是多少。
      右边 展示仓库信息及其介绍

  7. 正上边 
        路由右键一键清除。



  8. 更新所有的数据

  -------------------------------------------------------------------------------------------------


  2023-0428  

  仓库管理 
      出库和入库单 中 审核 质检 后端需要编写


      2023-0430 
      采购退货单   ------>  暂时需要将全部数据更新一遍 注意更新后存在的关联性
        

  
  2023.5.4
  saleExit 
    销售客户需要改字段名  ：不匹配-单词和含义
    后端获取数据后 ，不能在echart中显示出来


    2023.5.5 
    采购和销售需要增加商品所属类

    == 用于比较两者是否相等，忽略数据类型。

    === 用于更严谨的比较，值和值的数据类型都需要同时比较。
    
    角色管理有问题  不能显示所有的记录；删除无效


2023-5-6
    将表单校验集中在系统管理中  其他的暂时可以不考虑校验
  
    仓库容量换算为公斤(千克)  compute  CalculationUtils
    International formula for calculating volume and weight      INTCalculatingVolumeToWeight  容积转重量
              (kg)公斤 = (volume)容积（长cmx宽cmx高cm）/6000     1立方米=10的六次方厘米

              50kg的容量  需要 3x10的5次方厘米 = 0.3立方米  
      将仓库容量立方米 换算为公斤

    饼图与柱状图都在stock中使用


2023-5-7 部门分页点击失效  true？false 导致？  k写错  已更正


2023-5-9 

1. 设置一个测试类 防止没有注册功能   密码错误就登录不了了。
2. 斤、个 转换      不只是有质量  还有论个计算的
-----------------------------------------------------------------
2023-0515
 1. 答辩完成后的系统修订

    (1) 采购 采购完成后，入库 ||    添加按钮--条件显示 --需要判断是否是管理人员(1 是则显示，否则不显示) 
          采购编号 == 入库编号？ 直接入库  符合三范式？
          入库操作：入库商品数量<仓库容量 ? 入库成功（更新库存剩余容量） : 入库失败，仓库容量不足(返回错误信息) 
    (2)   采购退货，直接退


    (3) 销售 同样如此
逻辑 ：

    采购和销售 
            入库和出库：在仓库管理中生成 出入库清单 需要仓库人员进行质检(入库)  出库(审核)  

    采购：
        查询
        新增  状态：进行中
        编辑、删除 
        入库：弹窗选择入库仓库，判断容量是否充足 充足则后台生成入库清单
        并更新当前状态为完成
        退货：判断当前状态 完成则 {弹框 取消采购的原因，后台生成出库清单(此时需要仓库人员审核) }  否则直接退货成功，更改状态为完成
        质检逻辑： 判断对应仓库是否有充足的库存 

    销售：
        查询
        新增   状态：进行中
        编辑、删除
        出库：出库成功更新状态为完成且-备注 ，生成出库清单 某个仓库的商品及其数量存在且充足  否则失败
        回收：弹框出 客户退货原因 更新采购单的备注及其状态为完成，后台生成入库清单(此时需要仓库人员审核)

        审核

        2023-5-17 

        数据库 出入库 表 新增源编号 
          后端代码更新（字段）  源代码需要更新  

2023-6-1
    销售与销售退货  

        回收：       
          1. 生成销售退货单，并添加退货原因 销售单是进行中则 销售退货单状态为完成 ；若销售单是完成 0，则生成的销售退货单是进行中 1，生成入库清单
         2.判断是否出库（出库-就需要生成：【销售退货+入库单】，未出库则直接生成：【销售退货】），
        判断其状态是否完成 （完成：表示已到客户手中，需要【入库清单，销售退货单】； 未完成：直接生成【销售退货单】）

       增加销售单后 状态为：进行中  出库：状态为完成 并且生成出库清单 ------销售环节结束-->转为快递送货环节

       回收：  进行中：则未生成出库清单  完成则是生成的出库清单  

            完成的意思是已经入库了  那么就从入库清单中查对应的信息出来然后再生成出库信息。 

2023-6-3

   /**
             *  定义接口
             *  0：成功
             *  失败 ！=服务器错误
             *  1： 库存不足，请重新选择出库仓库
             *  2： 不能重复出库
             */
            if (result ==1){
               return commonResult.failed(ResultCode.LACK_STOCK);
            } else if (result ==2) {
                return commonResult.failed(ResultCode.OVER_EXIT_SALE);
            }
            return commonResult.success(ResultCode.SUCCESS);

  =====================================良好的接口规范
  
            